<!-- 
  Этот компонент представляет собой форму для входа в систему.
  Он будет вставлен в плейсхолдер `<atom-inject into="formContent">`
  внутри `auth-layout.html`.
-->
<div>
    <h2>Вход в систему</h2>
    
    <!-- 
      Этот блок будет отрендерен на сервере и показан, только если в URL
      есть параметр `?registered=true`. Мы используем это, чтобы показать
      сообщение после успешной регистрации и редиректа на эту страницу.
    -->
    <p 
      style="color: green; text-align: center;"
      atom-if="url.query.registered"
    >
      Регистрация прошла успешно! Теперь вы можете войти.
    </p>
    
    <!-- 
      Аналогично, этот блок будет показан только при наличии ?error=1 в URL.
      `url` - это специальный объект, который Renderer предоставляет в контексте,
      содержащий информацию о текущем URL.
    -->
    <p class="error" atom-if="url.query.error">
      Неверный логин или пароль.
    </p>

    <!-- 
      ★ Ключевой момент:
      Атрибут `atom-action` находится на самой форме. Это говорит `engine-client.js`,
      что нужно слушать событие `submit` для этой формы.
      Когда форма будет отправлена, клиентский движок перехватит событие,
      соберет все данные из полей формы и отправит их AJAX-запросом.
    -->
    <form atom-action="POST /auth/login">
        <div class="form-group">
            <label for="login">Логин</label>
            <input type="text" id="login" name="login" required>
        </div>
        <div class="form-group">
            <label for="password">Пароль</label>
            <input type="password" id="password" name="password" required>
        </div>
        <div class="form-group">
            <button type="submit">Войти</button>
        </div>
    </form>
    
    <div class="links">
        <!-- 
          Эта ссылка пока не будет работать как SPA, так как у нас нет
          клиентского роутера, но мы закладываем атрибут на будущее.
          Пока это будет обычная ссылка.
        -->
        <a href="/register">У меня еще нет аккаунта</a>
    </div>
</div>